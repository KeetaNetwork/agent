![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)
![Platform: macOS](https://img.shields.io/badge/Platform-macOS-lightgrey.svg)  
![GPG Support](https://img.shields.io/badge/GPG-Supported-blue.svg)  
![SSH Support](https://img.shields.io/badge/SSH-Supported-green.svg)

# Keeta Agent

<p align="center" width="800">
    <img src="/.github/readme/preview.png" alt="Keeta Agent App Preview">
</p>

Keeta Agent is a macOS toolbar app for automated key management of GPG and SSH keys using the Secure Enclave. It uniquely links `git` commits signed on your physical device to your connected GitHub account, increasing developer security beyond existing tools.

Shipped with a GnuPG distribution and an SSH Agent bridging to Apple's natively supported NIST P-256 elliptic curve (ECC) keys. 

## Why Keeta Agent?

### Secure Key Storage

When it comes to setting up GPG or SSH keys, most people simply save them on their computer's hard drive while ensuring that they are protected by proper permissions. Although this method works in most cases, it is not completely secure as it's possible for malicious users or malware to copy your private key. Storing them in the Secure Enclave, Apple's Hardware Security Module (“HSM”), it becomes nearly impossible to export them as they are physically bound to your hardware.

### Access Control

Specifically designed for Macs with Apple Silicon, featuring advanced security features such as Touch ID or authentication with Apple Watch. The Keeta Agent ensures that all requested actions are securely processed by requiring Touch ID authentication before proceeding.

### Automated Setup

Setting up GPG to sign git commits is an unwieldy [18-steps process](https://gist.github.com/troyfontaine/18c9146295168ee9ca2b30c00bd1b41e#file-2-using-gpg-md). The Keeta Agent automates this setup by configuring the user’s `git` to use the distribution of GnuPG by default, using the generated key.

### Github Integration

Connect your Keet Agent with your Github account via Single sign-on (SSO) and all generated keys will be automatically uploaded and linked to your account.

### No Additional Hardware

Previously the solution to securely store key materials was to use a separate device, such as a YubiKey or smart card. Which further increases the complexity of the setup while introducing another problem. The organization has to manage another fleet of separate devices, each with its own lifecycles and the ability to get lost/stolen.

## Getting Started

### Installation

#### 1. Direct Download

You can download the latest release on the [Releases Page](https://github.com/KeetaPay/agent/releases)

#### 2. Setup

Provide the name and email you want to associate your key and Github commits with. 

<p align="leading" width="600">
    <img src="/.github/readme/setup.png" alt="Keeta Agent Key Setup">
</p>

#### 3. Connect Github

<p align="leading" width="300">
    <img src="/.github/readme/sync.png" alt="Keeta Agent Connect Github">
</p>

Link you Github account and you are ready to go ✅

### Backups and Transfers to New Devices

When you get a new Mac, you should create a new set of secrets specific to that Mac since secrets in the Secure Enclave are not exportable and cannot be backed up or transferred to a new machine.

### Control over SSH

As part of the automated management process of Keeta Agent, it will automatically use the SSH key generated by your Secure Enclave instead of the default SSH handling within macOS, impacting existing SSH key usage.

## License

Keeta Agent is licensed under the [GNU General Public License v3.0](LICENSE).

## Credit

[Secretive](https://github.com/maxgoedjen/secretive) and [Sekey](https://github.com/sekey/sekey) inspired our work on Keeta Agent but were rewritten and expanded to support unique key types such as GPG.
